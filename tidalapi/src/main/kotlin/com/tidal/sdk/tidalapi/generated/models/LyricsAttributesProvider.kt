/**
 * Please note: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
 * Do not edit this file manually.
 */
@file:Suppress("ArrayInDataClass", "EnumEntryName", "RemoveRedundantQualifierName", "UnusedImport")

package com.tidal.sdk.tidalapi.generated.models

import kotlinx.serialization.DeserializationStrategy
import kotlinx.serialization.Serializable
import kotlinx.serialization.json.JsonContentPolymorphicSerializer
import kotlinx.serialization.json.JsonElement
import kotlinx.serialization.json.jsonObject
import kotlinx.serialization.json.jsonPrimitive

/**
 * @param commonTrackId
 * @param lyricsId
 * @param name
 * @param source
 */
@Serializable(with = LyricsAttributesProviderSerializer::class)
sealed interface LyricsAttributesProvider

object LyricsAttributesProviderSerializer :
    JsonContentPolymorphicSerializer<LyricsAttributesProvider>(LyricsAttributesProvider::class) {
    override fun selectDeserializer(
        element: JsonElement
    ): DeserializationStrategy<LyricsAttributesProvider> {
        val source = element.jsonObject["source"]?.jsonPrimitive?.content
        return when (source) {
            "THIRD_PARTY" -> ThirdPartyLyricsProvider.serializer()
            "TIDAL" -> TidalLyricsProvider.serializer()
            else ->
                throw IllegalArgumentException("Unknown LyricsAttributesProvider source: $source")
        }
    }
}
